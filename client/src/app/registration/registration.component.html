<div class="container">
  <div class="row reg-wrapper">

    <!-- Left Panel: Registration Form -->
    <div class="col-md-6 row-md-6  form-section d-flex align-items-center">
      <form [formGroup]="itemForm" (ngSubmit)="onRegister()" class="w-100">
        <!-- <h2>Create your account</h2> -->
        <!-- Username -->
        <label>Username <span class="text-danger">*</span></label>
        <div class="form-floating-label">
          <input type="text" formControlName="username" placeholder="Username" required />
          <div *ngIf="itemForm.get('username')?.touched && itemForm.get('username')?.invalid">
          <div class="text-danger" *ngIf="itemForm.get('username')?.errors?.['required']">
            Username is required and should be a minimum of 4 characters 
          </div>
          <div class="text-danger" *ngIf="itemForm.get('username')?.errors?.['pattern']">
            only characters and spaces are allowed.
          </div>
          <div class="text-danger" *ngIf="itemForm.get('username')?.errors?.['minlength']">
            atleast 4 characters.
          </div>
        </div>
        <div *ngIf="responseUsernameMessage" class="text-danger">{{responseUsernameMessage}}</div>
        </div>
   
        <!-- Email -->
        <label>Email <span class="text-danger">*</span></label>
        <div class="form-floating-label">
          <input type="email" formControlName="email" placeholder="Email" required />
          <div class="text-danger" *ngIf="itemForm.get('email')?.touched && itemForm.get('email')?.invalid">
            Enter a valid email.
          </div>
          <div *ngIf="responseEmailMessgae" class="text-danger">{{responseEmailMessgae}}</div>
        </div>

        <!-- Password -->
        <label>Password <span class="text-danger">*</span></label>
        <div class="form-floating-label password-group">
          <input type="password" formControlName="password" placeholder="Password" required />
          <div class="text-danger" *ngIf="itemForm.get('password')?.touched && itemForm.get('password')?.invalid">
            Password is required and must meet complexity requirements.
          </div>
        </div>
    
        <!-- Role Dropdown -->
        <label>Role <span class="text-danger">*</span></label>
        <div class="mb-3">
          <select class="form-select" formControlName="role" required>
            <option value="">Select Role</option>
            <option value="INSTITUTION">Institution</option>
            <option value="PROFESSIONAL">Professional</option>
            <option value="PARTICIPANT">Participant</option>
          </select>
          <div class="text-danger" *ngIf="itemForm.get('role')?.touched && itemForm.get('role')?.invalid">
            Role is required.
          </div>
        </div>
 
        <!-- Register Button  -->
        <button type="submit" class="btn btn-custom w-100 buttonstyle" [disabled]="itemForm.invalid">{{loading ? 'Signing up...' : 'Register'}}
        </button>
        <p class="mt-3 text-center">Already have an account? <a class="login-link" routerLink="/login">Login</a></p>
        <span *ngIf="showMessage" class="text-center text-success fs-5">{{responseMessage}}</span>
      </form>
    </div>

    <!-- Right Panel: Image and Text -->
    <div class="col-md-6 row-md-6 right-panel d-flex flex-column align-items-center justify-content-center rounded">
      <!-- <h3>Welcome!</h3>
      <p>Create your account to start managing your activities</p> -->
      <h2>Create your account</h2>
      <img src="/assets/signup.png" alt="Register illustration" width="400px" class="img-fluid">
    </div>
  </div>
</div>