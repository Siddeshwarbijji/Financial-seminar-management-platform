<!-- <app-navbar></app-navbar> -->
<home-navbar></home-navbar>
<div class="container mt-4">
  <div class="d-flex align-items-center gap-30 mb-3">
    <button class="btn d-flex align-items-center gap-2" (click)="goBack()">
      <i class="bi-arrow-left-circle-fill fs-2"></i>
    </button>
    <h3>Assign Professional for: {{ title }}</h3>
  </div>

  <form (ngSubmit)="assignSelectedProfessionals()">
    <table class="table table-striped table-hover">
      <thead class="table-dark">
        <tr>
          <th>#</th>
          <th>S.No</th>
          <th>Name</th>
          <th>Email</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let prof of professionals; let i = index">
          <td>
            <input type="radio" (change)="onCheckboxChange(prof, $event)" [checked]="isChecked(prof)" />
            <!-- isChecked(prof) will check whether that prof is selected or not (present in selectedProfessionals list) and returns boolean -->
          </td>
          <td>{{ i + 1 }}</td>
          <td>{{ prof?.username }}</td>
          <td>{{ prof?.email }}</td>
        </tr>
      </tbody>
    </table>

    <button type="submit" class="btn btn-primary mt-3" [disabled]="!selectedProfessional">
      Add Selected Professionals
    </button>
  </form>
  <div *ngIf="successMessage" class="alert alert-success mt-3">{{successMessage}}</div>

  <div *ngIf="errorMessage" class="alert alert-danger mt-3">{{errorMessage}}</div>

  <!-- <div *ngIf="assignedProfessionals.length" class="alert alert-success mt-3">
    Assigned Professionals to {{ selectedEvent?.name }}:
    <ul>
      <li *ngFor="let p of assignedProfessionals">
        {{ p.username }} ({{ p.email }})
      </li>
    </ul>
  </div> -->
</div>